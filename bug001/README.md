# 最初的状态——在单例类的多线程(commit: 6479d8e13a007b4a26a15224638c83b213526b52)

    PLCManager是一个电源控制类，由于一台设备只能连接一个电源，而一个电源 只能一次处理一个信号，所以该类必须是一个单例类。全局只有一个对象。

# 需求说明
    PLCManager发送的信号其实是三菱电池的控制协议。现在需要增加一个西门子电池控制协议。如何设计并实现？

## 一个没有踩到的坑——对象析构后子线程还在运行，子线程使用了对象的成员变量，这将引起程序崩溃(commit: )
如何复现：至少应该要有三个子线程？
测试中发现两个线程——一个主线程一个子线程时，主线程退出后子线程也推出了（t.detach）这个就无法复现这个bug.
应该这个实现，主线程创建一个对象A并启动一个子线程A（对象A的一个休眠方法:在该方法中先创建一个对象B然后休眠n秒）然后主线程进入死循环，然后该子线程B再启动一个线程（对象B的死循环方法，该方法内部使用了对象的成员变量）
该方法使用了对象B的成员变量。当子线程A休眠结束退出时，会析构掉对象B，这个时候对象B还在执行，所以将会导致程序崩溃。
工作时的偶尔错误的复现让我花了1个半小时才完成。上面的描述验证正确。

# 成员纯虚函数与成员虚函数的区别
1.纯虚函数不可在当前类中实现，虚函数要在当前类中实现不然编译报错；
2.有纯虚函数的类为纯虚基类，只能够定义该类的指针或引用；